(this["webpackJsonpslack-vibe-frontend"]=this["webpackJsonpslack-vibe-frontend"]||[]).push([[0],{100:function(e,t,a){e.exports={root:"styles_root__Oa-Ey",logo:"styles_logo__FcffY",name:"styles_name__3WWcX",attribution:"styles_attribution__3tmnj",description:"styles_description__2uI-F",buttons:"styles_buttons__1cFeJ"}},101:function(e,t,a){e.exports={root:"styles_root__33yad",description:"styles_description__QN_AT",drop:"styles_drop__2iRek",progress:"styles_progress__lA3qq",message:"styles_message__1Szub"}},134:function(e,t,a){e.exports={root:"styles_root__17D_V",messages:"styles_messages__27OXc",reactions:"styles_reactions__22Jgk",chart:"styles_chart__2pZOa"}},135:function(e,t,a){e.exports={root:"styles_root__xLFFH",members:"styles_members__2Gteg",joins:"styles_joins__xkA_P",chart:"styles_chart__2yZiX"}},164:function(e,t,a){e.exports={root:"styles_root__3ckqF",banner:"styles_banner__1-Qrh",buttons:"styles_buttons__2tM_j"}},165:function(e,t,a){e.exports={root:"styles_root__V2hDC",messages:"styles_messages__2psIB",chart:"styles_chart__3Hvf-"}},166:function(e,t,a){e.exports={root:"styles_root__3TiY-",messages:"styles_messages__2t2Kt",chart:"styles_chart__1cZXO"}},167:function(e,t,a){e.exports={root:"styles_root__3HM8O",content:"styles_content__hHypP",header:"styles_header__22WLR",filter:"styles_filter__1Pgdj",filtered:"styles_filtered__2HUB_",sidebar:"styles_sidebar__3ssd4",row:"styles_row__1XrNw",column:"styles_column__ZQjRo"}},244:function(e,t,a){e.exports=a.p+"static/media/logo.1bd4d740.svg"},287:function(e,t,a){e.exports=a(349)},292:function(e,t,a){},30:function(e,t,a){e.exports={wrapper:"styles_wrapper__3iQfx",root:"styles_root__1QVfh",input:"styles_input__BL8Md",greeting:"styles_greeting__yXDOr",control:"styles_control__3bbpB",close:"styles_close__3fQW3",list:"styles_list__1zLst",item:"styles_item__2kQ1q",sign:"styles_sign__vfwlM",main:"styles_main__3hO1m",clear:"styles_clear__2uIXH"}},349:function(e,t,a){"use strict";a.r(t);var n=a(8),s=a.n(n),r=a(241),l=a.n(r),o=(a(292),a(38)),c=a(122),i=a(192),m=a(242),u=a.n(m),d=a(191),p=a.n(d),_=a(88),h=a.n(_),f=a(243),y=a.n(f),b="".concat(window.location.origin,"/cubejs-api/v1");var v=function(e){var t=y.a.parse(e);return"".concat(t.protocol,"//").concat(t.host)}(b),E=u()("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE1OTk1Njc0NDYsImV4cCI6NDc1NTMyNzQ0Nn0.2I0Sdi6diOsDVcn5VlczKOTE5XhQoX9cYGn5UZG1djU",{apiUrl:b});var g={measures:["Messages.count"],dimensions:["Users.id","Users.real_name","Users.title","Users.image","Users.is_admin"],order:{"Messages.count":"desc"}};function k(){return E.load(g).then((function(e){return e.tablePivot().map((function(e){return{id:e["Users.id"],name:e["Users.real_name"],title:e["Users.title"],image:e["Users.image"],is_admin:e["Users.is_admin"]}})).filter((function(e){return e.id}))}))}var N={measures:["Messages.count"],dimensions:["Channels.id","Channels.name","Channels.purpose"],order:{"Messages.count":"desc"}};function j(){return E.load(N).then((function(e){return e.tablePivot().map((function(e){return{id:e["Channels.id"],name:e["Channels.name"],purpose:e["Channels.purpose"]}})).filter((function(e){return e.id}))}))}function w(e){return Object.keys(e).filter((function(e){return e.endsWith(".Reactions.count")})).sort((function(t,a){return(e[a]||0)-(e[t]||0)})).map((function(e){return e.replace(".Reactions.count","")})).filter((function(e){return p.a.findByName(e)})).slice(0,3).map(p.a.get)}var O={measures:["Reactions.count"],dimensions:["Reactions.emoji","Users.id"],order:{"Reactions.count":"desc"}};function M(){return E.load(O).then((function(e){return e.tablePivot({x:["Users.id"],y:["Reactions.emoji","measures"]}).map((function(e){return{id:e["Users.id"],reactions:w(e)}}))}))}var C={measures:["Reactions.count"],dimensions:["Reactions.emoji","Channels.id"],order:{"Reactions.count":"desc"}};function x(){return E.load(C).then((function(e){return e.tablePivot({x:["Channels.id"],y:["Reactions.emoji","measures"]}).map((function(e){return{id:e["Channels.id"],reactions:w(e)}}))}))}function S(e,t){return Promise.all([e(),t()]).then((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return a.map((function(e){var t=n.find((function(t){return t.id===e.id}));return Object(i.a)(Object(i.a)({},e),{},{reactions:t?t.reactions:[]})}))}))}function F(e,t){return[].concat(Object(c.a)(e?[{member:"Channels.name",operator:"equals",values:[e]}]:[]),Object(c.a)(t?[{member:"Users.real_name",operator:"equals",values:[t]}]:[]))}var U=a(193),D=a(66),A=a.n(D),I=a(67),L=a.n(I);function W(e){var t=e.data,a=e.limit,n=e.member,r=e.onShow,l=e.onSelect,o=a?t.slice(0,a):t.slice().sort((function(e,t){return e.name.localeCompare(t.name)}));return o.length?s.a.createElement("div",{className:L.a.root},s.a.createElement("div",{className:L.a.header},s.a.createElement("h2",null,a?"Most Active":"All"," Members"),s.a.createElement("div",{className:L.a.controls},s.a.createElement("button",{onClick:r},"Show ",a?"All":"Active"))),s.a.createElement("ul",{className:L.a.list},o.map((function(e){return s.a.createElement("li",{key:e.id,className:L.a.item+" "+(n===e.name?L.a.selected:""),onClick:function(){return l(n!==e.name?e.name:null)}},s.a.createElement("div",{className:L.a.avatar},s.a.createElement("img",{src:e.image,alt:""})),s.a.createElement("div",{title:e.title},s.a.createElement("div",{className:L.a.name},s.a.createElement("span",{className:e.is_admin?L.a.admin:"",title:e.is_admin?"Workspace Admin":""},e.name)),e.title&&s.a.createElement("div",{className:L.a.title},e.title)),s.a.createElement("div",null,s.a.createElement("div",{className:L.a.reactions,title:"Top 3 reactions by "+e.name},s.a.createElement("span",{role:"img","aria-label":""},e.reactions))))})))):null}var R=a(72),P=a.n(R);function Y(e){var t=e.data,a=e.limit,n=e.channel,r=e.onShow,l=e.onSelect,o=a?t.slice(0,a):t.slice().sort((function(e,t){return e.name.localeCompare(t.name)}));return o.length?s.a.createElement("div",{className:P.a.root},s.a.createElement("div",{className:P.a.header},s.a.createElement("h2",null,a?"Most Active":"All"," Channels"),s.a.createElement("div",{className:P.a.controls},s.a.createElement("button",{onClick:r},"Show ",a?"All":"Active"))),s.a.createElement("ul",{className:P.a.list},o.map((function(e){return s.a.createElement("li",{key:e.id,className:P.a.item+" "+(n===e.name?P.a.selected:""),onClick:function(){return l(n!==e.name?e.name:null)}},s.a.createElement("div",{className:P.a.avatar},"\xa0"),s.a.createElement("div",{title:e.purpose},s.a.createElement("div",{className:P.a.name},e.name),e.purpose&&s.a.createElement("div",{className:P.a.title},e.purpose)),s.a.createElement("div",null,s.a.createElement("div",{className:P.a.reactions,title:"Top 3 reactions in #"+e.name},s.a.createElement("span",{role:"img","aria-label":""},e.reactions))))})))):null}var X=a(100),B=a.n(X),H=a(244),q=a.n(H);function T(e){var t=e.onClick;return s.a.createElement("div",{className:B.a.root},s.a.createElement("div",{className:B.a.logo},s.a.createElement("h1",null,s.a.createElement("span",{className:B.a.name,onClick:t},"Slack Vibe\xa0\xa0",s.a.createElement("span",{role:"img","aria-label":""},"\ud83c\udf89")),s.a.createElement("span",{className:B.a.attribution},"by"),s.a.createElement("span",null,s.a.createElement("img",{src:q.a,alt:"Cube.js"}))),s.a.createElement("div",{className:B.a.description},"An\xa0open source dashboard of\xa0public activity in\xa0a\xa0Slack workspace of\xa0an\xa0open community or\xa0a\xa0private team"),s.a.createElement("ul",{className:B.a.buttons},s.a.createElement("li",null,s.a.createElement("a",{href:"https://github.com/cube-js/cube.js/tree/master/examples/slack-vibe",target:"_blank",rel:"noopener noreferrer"},"Browse on GitHub")),s.a.createElement("li",null,s.a.createElement("a",{href:"https://heroku.com/deploy?template=https://github.com/cube-js/cube.js/tree/heroku/slack-vibe/",target:"_blank",rel:"noopener noreferrer"},"Deploy to Heroku")),s.a.createElement("li",null,s.a.createElement("a",{href:"https://hub.docker.com/r/cubejs/slack-vibe",target:"_blank",rel:"noopener noreferrer"},"Get Docker container")))))}var Q=a(164),V=a.n(Q);function Z(){return s.a.createElement("div",{className:V.a.root},s.a.createElement("div",{className:V.a.banner},s.a.createElement("div",null,s.a.createElement("em",null,"Slack Vibe")," is created and powered by ",s.a.createElement("em",null,"Cube.js"),", an\xa0open source analytical data access layer for modern web applications."),s.a.createElement("ul",{className:V.a.buttons},s.a.createElement("li",null,s.a.createElement("a",{href:"https://cube.dev",target:"_blank",rel:"noopener noreferrer"},"Learn more about Cube.js")))))}var G=a(134),z=a.n(G),J=a(245),K=a(117),$=a(118),ee=a(121),te=a(120),ae=a(54),ne=a(56);function se(e){e.fontSize="11px",e.fontWeight="400",e.renderer.labels.template.fill=ae.b("#727290")}var re={week:"'W' ww\nYYYY",month:"MMM\nYYYY"};var le=[{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1}],oe=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).state={id:"line"+Math.random()},n}return Object($.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.options,t=ae.c(this.state.id,ne.f);t.maskBullets=!1,se(t.yAxes.push(new ne.e));var a,n=t.xAxes.push(new ne.c);se(n),a=n,Object.keys(re).forEach((function(e){a.dateFormats.setKey(e,re[e]),a.periodChangeDateFormats.setKey(e,re[e])})),n.gridIntervals.setAll(le),n.renderer.grid.template.location=.5,n.renderer.labels.template.location=.5,n.startLocation=.5,n.endLocation=.5;var s,r=Object(J.a)(e);try{for(r.s();!(s=r.n()).done;){var l=s.value,o=t.series.push(new ne.d);o.stroke=ae.b(l.color),o.dataFields.valueY=l.y,o.dataFields.dateX=l.x,o.strokeWidth=2}}catch(c){r.e(c)}finally{r.f()}this.chart=t}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&(this.chart.data=this.props.data)}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){return s.a.createElement("div",{id:this.state.id,style:{width:"100%",height:"300px"}})}}]),a}(n.Component);function ce(e){var t=e.data,a=e.granularity,n=[{x:"date",y:"messages",color:"#FA326E",granularity:a},{x:"date",y:"reactions",color:"#FFC3BA",granularity:a}];return s.a.createElement("div",{className:z.a.root},s.a.createElement("h2",null,s.a.createElement("span",{className:z.a.messages},"Messages")," and ",s.a.createElement("span",{className:z.a.reactions},"reactions")),s.a.createElement("div",{className:z.a.chart},s.a.createElement(oe,{data:t,options:n})))}var ie=a(135),me=a.n(ie);function ue(e){var t=e.data;return s.a.createElement("div",{className:me.a.root},s.a.createElement("h2",null,s.a.createElement("span",{className:me.a.members},"All members")," and"," ",s.a.createElement("span",{className:me.a.joins},"new members")),s.a.createElement("div",{className:me.a.chart},s.a.createElement(oe,{data:t,options:[{x:"date",y:"members",color:"#7A77FF"},{x:"date",y:"joins",color:"#AFADFF"}]})))}var de=a(165),pe=a.n(de),_e=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).state={id:"heatmap"+Math.random()},n}return Object($.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.options,t=ae.c(this.state.id,ne.f);t.maskBullets=!1;var a=t.xAxes.push(new ne.a);se(a),a.dataFields.category="month",a.renderer.grid.template.disabled=!0,a.renderer.minGridDistance=12;var n=t.yAxes.push(new ne.a);se(n),n.dataFields.category="weekday",n.renderer.grid.template.disabled=!0,n.renderer.inversed=!0;var s=t.series.push(new ne.b);s.dataFields.categoryX="month",s.dataFields.categoryY="weekday",s.dataFields.value="value",s.sequencedInterpolation=!0;var r=s.columns.template;r.strokeWidth=3,r.strokeOpacity=1,r.stroke=new ae.b("#fff"),r.width=ae.d(100),r.height=ae.d(100),s.heatRules.push({target:r,property:"fill",min:new ae.b(e.colors.min),max:new ae.b(e.colors.max)}),this.chart=t}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&(this.chart.data=this.props.data)}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){return s.a.createElement("div",{id:this.state.id,style:{width:"100%",height:"350px"}})}}]),a}(n.Component);function he(e){var t=e.data;return s.a.createElement("div",{className:pe.a.root},s.a.createElement("h2",{title:"With respect to your local time zone"},s.a.createElement("span",{className:pe.a.messages},"Messages")," by day of week"),s.a.createElement("div",{className:pe.a.chart},s.a.createElement(_e,{data:t,options:{colors:{min:"#fff",max:"#46D89B"}}})))}var fe=a(166),ye=a.n(fe),be=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).state={id:"bubble"+Math.random()},n}return Object($.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.options,t=ae.c(this.state.id,ne.f);t.maskBullets=!1;var a=t.xAxes.push(new ne.a);se(a),a.renderer.minGridDistance=40,a.dataFields.category="hour",a.renderer.grid.template.disabled=!0,a.renderer.axisFills.template.disabled=!0,a.renderer.ticks.template.disabled=!0;var n=t.yAxes.push(new ne.a);se(n),n.dataFields.category="weekday",n.renderer.grid.template.disabled=!0,n.renderer.axisFills.template.disabled=!0,n.renderer.ticks.template.disabled=!0,n.renderer.inversed=!0;var s=t.series.push(new ne.b);s.dataFields.categoryY="weekday",s.dataFields.categoryX="hour",s.dataFields.value="value",s.columns.template.disabled=!0,s.sequencedInterpolation=!0;var r=s.bullets.push(new ae.a);r.strokeWidth=0,r.fill=ae.b(e.color),r.adapter.add("tooltipY",(function(e,t){return 1-t.radius})),s.heatRules.push({property:"radius",target:r,min:3,max:13}),r.hiddenState.properties.scale=.01,r.hiddenState.properties.opacity=1,this.chart=t}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&(this.chart.data=this.props.data)}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){return s.a.createElement("div",{id:this.state.id,style:{width:"100%",height:"350px"}})}}]),a}(n.Component);function ve(e){var t=e.data;return s.a.createElement("div",{className:ye.a.root},s.a.createElement("h2",{title:"With respect to your local time zone"},s.a.createElement("span",{className:ye.a.messages},"Messages")," by hour"),s.a.createElement("div",{className:ye.a.chart},s.a.createElement(be,{data:t,options:{color:"#7A77FF"}})))}var Ee=a(30),ge=a.n(Ee),ke=Math.floor(3),Ne=["Last Week","Last Month","Last Quarter","Last Year","Last 30 Days","Last 90 Days","Last 365 Days","Last 1000 Days"],je=["Hour","Day","Week","Month","Year"];function we(e){var t=e.onClose,a=Object(n.useState)(""),r=Object(o.a)(a,2),l=r[0],i=r[1];return s.a.createElement("div",{className:ge.a.wrapper},s.a.createElement("div",{className:ge.a.root},s.a.createElement("div",{className:ge.a.input},s.a.createElement("div",{className:ge.a.greeting},"Filter:"),s.a.createElement("div",{className:ge.a.control},s.a.createElement("input",{type:"text",value:l,onChange:function(e){return i(e.target.value)},autoFocus:!0,placeholder:"Channels, members, date range, granularity"})),s.a.createElement("div",{className:ge.a.close,onClick:t})),s.a.createElement("ul",{className:ge.a.list},function(e,t){var a=e.period,n=e.granularity,r=e.members,l=e.member,o=e.channel,i=e.onSelect,m=(t?r.filter((function(e){return Oe(e.name,t)})).slice(0,12):r.slice(0,ke)).map((function(e){return s.a.createElement("li",{key:e.name,className:ge.a.item,onClick:function(){return i(a,n,o,e.name)}},s.a.createElement("span",{className:ge.a.sign},"@"),s.a.createElement("span",{className:ge.a.main},e.name))}));return[l&&s.a.createElement("li",{key:"clear-item",className:ge.a.item,onClick:function(){return i(a,n,o,null)}},s.a.createElement("span",{className:ge.a.sign},"@"),s.a.createElement("span",{className:ge.a.clear},"All Members"))].concat(Object(c.a)(m))}(e,l.toLowerCase()),function(e,t){var a=e.period,n=e.granularity,r=e.channels,l=e.member,o=e.channel,i=e.onSelect,m=(t?r.filter((function(e){return Oe(e.name,t)})).slice(0,12):r.slice(0,ke)).map((function(e){return s.a.createElement("li",{key:e.name,className:ge.a.item,onClick:function(){return i(a,n,e.name,l)}},s.a.createElement("span",{className:ge.a.sign},"#"),s.a.createElement("span",{className:ge.a.main},e.name))}));return[o&&s.a.createElement("li",{key:"clear-item",className:ge.a.item,onClick:function(){return i(a,n,null,l)}},s.a.createElement("span",{className:ge.a.sign},"#"),s.a.createElement("span",{className:ge.a.clear},"All Channels"))].concat(Object(c.a)(m))}(e,l.toLowerCase()),function(e,t){var a=e.granularity,n=e.member,r=e.channel,l=e.onSelect;return(t?Ne.filter((function(e){return Oe(e,t,"?")})).slice(0,12):Ne.slice(2,2+ke)).map((function(e){return s.a.createElement("li",{key:e,className:ge.a.item,onClick:function(){return l(e.toLowerCase(),a,r,n)}},s.a.createElement("span",{className:ge.a.sign},"?"),s.a.createElement("span",{className:ge.a.main},e))}))}(e,l.toLowerCase()),function(e,t){var a=e.period,n=e.member,r=e.channel,l=e.onSelect;return(t?je.filter((function(e){return Oe(e,t,"by")})).slice(0,12):je.slice(1,1+ke)).map((function(e){return s.a.createElement("li",{key:e,className:ge.a.item,onClick:function(){return l(a,e.toLowerCase(),r,n)}},s.a.createElement("span",{className:ge.a.sign},"by"),s.a.createElement("span",{className:ge.a.main},e))}))}(e,l.toLowerCase()))))}function Oe(e,t,a){return a&&a.startsWith(t)?e:e.toLowerCase().split(" ").some((function(e){return e.startsWith(t)}))}var Me=function(){var e=Object(n.useState)("last 365 days"),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)("month"),c=Object(o.a)(l,2),i=c[0],m=c[1],u=Object(n.useState)([]),d=Object(o.a)(u,2),p=d[0],_=d[1],f=Object(n.useState)([]),y=Object(o.a)(f,2),b=y[0],v=y[1],g=Object(n.useState)([]),N=Object(o.a)(g,2),w=N[0],O=N[1],C=Object(n.useState)([]),D=Object(o.a)(C,2),I=D[0],L=D[1],R=Object(n.useState)([]),P=Object(o.a)(R,2),X=P[0],B=P[1],H=Object(n.useState)([]),q=Object(o.a)(H,2),Q=q[0],V=q[1],G=Object(n.useState)(null),z=Object(o.a)(G,2),J=z[0],K=z[1],$=Object(n.useState)(null),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),se=Object(o.a)(ne,2),re=se[0],le=se[1],oe={filter:function(){return!0}};Object(U.a)("ctrl+k, cmd+k",(function(){return le(!0)}),oe),Object(U.a)("esc",(function(){return le(!1)}),oe),Object(n.useEffect)((function(){S(k,M).then(_),S(j,x).then(v),function(e,t,a,n){var s={measures:["Messages.count","Reactions.count"],timeDimensions:[{dimension:"Messages.date",granularity:t,dateRange:e}],filters:F(a,n),order:{"Messages.date":"asc"}};return E.load(s).then((function(e){return e.tablePivot().map((function(e){return{date:new Date(e["Messages.date."+t]),month:h()(e["Messages.date."+t]).format("MMM"),weekday:h()(e["Messages.date."+t]).format("dddd"),messages:parseInt(e["Messages.count"]),reactions:parseInt(e["Reactions.count"])}}))}))}(a,i,J,te).then(O),function(e,t,a,n){var s={measures:["Memberships.sum","Memberships.count"],timeDimensions:[{dimension:"Messages.date",granularity:t,dateRange:e}],filters:F(a,n),order:{"Messages.date":"asc"}};return E.load(s).then((function(e){return e.tablePivot().map((function(e){return{date:new Date(e["Messages.date."+t]),members:parseInt(e["Memberships.sum"]),joins:parseInt(e["Memberships.count"])}}))}))}(a,i,J,te).then(L),function(e,t,a){var n={measures:["Messages.count"],dimensions:["Messages.day_of_week"],timeDimensions:[{dimension:"Messages.date",granularity:"month",dateRange:e}],filters:F(t,a),order:{"Messages.day_of_week":"asc"}},s=n.timeDimensions[0].granularity;return E.load(n).then((function(e){return e.tablePivot().map((function(e){return{month:h()(e["Messages.date."+s]).format("MMM"),weekday:h()().weekday(e["Messages.day_of_week"]).format("dddd"),value:parseInt(e["Messages.count"])}}))}))}(a,J,te).then(B),function(e,t,a){var n={measures:["Messages.count"],dimensions:["Messages.hour","Messages.day_of_week"],timeDimensions:[{dimension:"Messages.date",dateRange:e}],filters:F(t,a),order:{"Messages.day_of_week":"asc","Messages.hour":"asc"}};return E.load(n).then((function(e){return e.tablePivot().map((function(e){return{hour:e["Messages.hour"]+":00",weekday:h()().weekday(e["Messages.day_of_week"]).format("dddd"),value:parseInt(e["Messages.count"])}}))}))}(a,J,te).then(V)}),[a,i,J,te]);var ie=Object(n.useState)(!1),me=Object(o.a)(ie,2),de=me[0],pe=me[1],_e=Object(n.useState)(!1),fe=Object(o.a)(_e,2),ye=fe[0],be=fe[1];return s.a.createElement("div",{className:A.a.root},s.a.createElement("div",{className:A.a.content},s.a.createElement(T,{onClick:function(){r("last 365 days"),m("month"),K(null),ae(null),le(!1)}}),s.a.createElement("div",{className:A.a.header},function(e,t,a,n,r){var l=n?s.a.createElement(s.a.Fragment,null,"in ",s.a.createElement("span",{className:A.a.filtered},"#",n)):s.a.createElement(s.a.Fragment,null,"in ",s.a.createElement("span",{className:A.a.filtered},"all channels")),o=a?s.a.createElement(s.a.Fragment,null,"by ",s.a.createElement("span",{className:A.a.filtered},"@",a)):s.a.createElement(s.a.Fragment,null,"by ",s.a.createElement("span",{className:A.a.filtered},"all members")),c=s.a.createElement("span",{className:A.a.filtered},e),i=s.a.createElement(s.a.Fragment,null,"by ",s.a.createElement("span",{className:A.a.filtered},t));return s.a.createElement("h2",{className:A.a.filter,title:"Press Cmd+K or Ctrl+K to toggle filter",onClick:r},"Activity ",o," ",l," ",c," ",i)}(a,i,te,J,(function(){return le(!0)})),re&&s.a.createElement(we,{period:a,granularity:i,channels:b,members:p,channel:J,member:te,onSelect:function(e,t,a,n){r(e),m(t),K(a),ae(n),le(!1)},onClose:function(){return le(!1)}})),s.a.createElement(ce,{data:w,granularity:i}),!te&&s.a.createElement(ue,{data:I}),"last week"!==a&&s.a.createElement(he,{data:X}),s.a.createElement(ve,{data:Q})),s.a.createElement("div",{className:A.a.sidebar},s.a.createElement(Z,null),s.a.createElement(W,{data:p,limit:de?void 0:5,member:te,onShow:function(){return pe(!de)},onSelect:function(e){ae(e),le(!1)}}),s.a.createElement(Y,{data:b,limit:ye?void 0:5,channel:J,onShow:function(){return be(!ye)},onSelect:function(e){K(e),le(!1)}})))},Ce=a(167),xe=a.n(Ce),Se=a(247),Fe=a(101),Ue=a.n(Fe);function De(e){var t=e.onUpload,a=Object(n.useState)(!1),r=Object(o.a)(a,2),l=r[0],c=r[1];return s.a.createElement("div",{className:Ue.a.root},s.a.createElement("div",{className:Ue.a.description},s.a.createElement("p",null,s.a.createElement("a",{href:"https://slack.com/intl/en-ru/help/articles/201658943-Export-your-workspace-data#use-standard-export",target:"_blank",rel:"noopener noreferrer"},"Export public data"),"\xa0from\xa0your Slack workspace."),s.a.createElement("p",null,"Get a ZIP file and upload (or drop) it here.")),s.a.createElement(Se.a,{onDrop:function(e){c(!0),function(e){var t=new FormData;return t.append("file",e),fetch("".concat(v,"/upload"),{method:"POST",body:t})}(e[0]).then(t)},accept:"application/zip",multiple:!1,disabled:l},(function(e){var t=e.getRootProps,a=e.getInputProps;return s.a.createElement("div",Object.assign({className:Ue.a.drop+" "+(l?Ue.a.progress:"")},t()),l?s.a.createElement("div",{className:Ue.a.message},"Uploading..."):s.a.createElement("button",{className:Ue.a.button},"Upload ZIP archive"),s.a.createElement("input",a()))})))}var Ae=function(e){var t=e.onUpload;return s.a.createElement("div",{className:xe.a.root},s.a.createElement("div",{className:xe.a.content},s.a.createElement(T,null),s.a.createElement(De,{onUpload:t})),s.a.createElement("div",{className:xe.a.sidebar},s.a.createElement(Z,null)))};var Ie=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){E.load({measures:["Channels.count"]}).then((function(e){return e.tablePivot().shift()["Channels.count"]>0})).then(r)}),[]),void 0===a?null:a?s.a.createElement(Me,null):s.a.createElement(Ae,{onUpload:function(){return r(!0)}})};l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Ie,null)),document.getElementById("root"))},66:function(e,t,a){e.exports={root:"styles_root__39NXg",content:"styles_content__3trWP",header:"styles_header__12kNT",filter:"styles_filter__3geqv",filtered:"styles_filtered__32vwp",sidebar:"styles_sidebar__2ZkT8",row:"styles_row__1WlCw",column:"styles_column__2gEdM"}},67:function(e,t,a){e.exports={root:"styles_root__uZU2Y",header:"styles_header__4Ysq8",controls:"styles_controls__1mMoH",list:"styles_list__1BSs4",item:"styles_item__331fH",selected:"styles_selected__3dr5J",avatar:"styles_avatar__2WBAm",admin:"styles_admin__xstXP",name:"styles_name__wwHLi",title:"styles_title__1yhsT",joins:"styles_joins__3IFN6",reactions:"styles_reactions__omCS4"}},72:function(e,t,a){e.exports={root:"styles_root__3aWG-",header:"styles_header__1pmcV",controls:"styles_controls__1BHTq",list:"styles_list__VlXnd",item:"styles_item__3-FZI",selected:"styles_selected__2ajnu",avatar:"styles_avatar__2plpi",name:"styles_name__1Z6N7",title:"styles_title__2etU6",joins:"styles_joins__3sdNy",reactions:"styles_reactions__37Liq"}}},[[287,1,3]]]);
//# sourceMappingURL=main.f7182808.chunk.js.map